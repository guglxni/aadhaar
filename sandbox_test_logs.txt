
> aadhaar-verification-server@0.0.1 start:dev
> cross-env NODE_ENV=development nest start --watch

[2J[3J[H[[90m4:53:31 AM[0m] Starting compilation in watch mode...

[[90m4:53:32 AM[0m] Found 0 errors. Watching for file changes.

(node:86643) [DEP0190] DeprecationWarning: Passing args to a child process with shell option true can lead to security vulnerabilities, as the arguments are not escaped, only concatenated.
(Use `node --trace-deprecation ...` to show where the warning was created)
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m--- Starting Application Bootstrap ---[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCommonModule dependencies initialized[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m
{"timestamp":"2025-07-17T23:23:33.199Z","level":"log","message":"PROVIDER_INITIALIZATION_START","context":"AuditLogger","correlationId":"04497fd0-acf9-41bc-b383-d78eafbd75ba","payload":{}}
{"timestamp":"2025-07-17T23:23:33.199Z","level":"log","message":"PROVIDER_INITIALIZATION_CONFIG","context":"AuditLogger","correlationId":"04497fd0-acf9-41bc-b383-d78eafbd75ba","payload":{"isDevelopment":true,"auaCode":"public","uidaiBaseUrl":"https://developer.uidai.gov.in","licenseKey":"MG_g7jJVYU..."}}
{"timestamp":"2025-07-17T23:23:33.199Z","level":"log","message":"LOADING_KEYS_START","context":"AuditLogger","correlationId":"04497fd0-acf9-41bc-b383-d78eafbd75ba","payload":{"hasP12Path":true,"hasPemPaths":true}}
{"timestamp":"2025-07-17T23:23:33.199Z","level":"log","message":"LOADING_P12_CERTIFICATE","context":"AuditLogger","correlationId":"04497fd0-acf9-41bc-b383-d78eafbd75ba","payload":{"p12Path":"/Users/aaryanguglani/Desktop/projcects/aadhaar/certs/New_Public_AUA_for_Staging_Services_RootSigned_2428.p12"}}
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[CryptoUtils] [39m[32mSuccessfully extracted private key and certificate from P12 file: /Users/aaryanguglani/Desktop/projcects/aadhaar/certs/New_Public_AUA_for_Staging_Services_RootSigned_2428.p12[39m
{"timestamp":"2025-07-17T23:23:33.240Z","level":"log","message":"P12_CERTIFICATE_LOADED_SUCCESSFULLY","context":"AuditLogger","correlationId":"04497fd0-acf9-41bc-b383-d78eafbd75ba","payload":{"hasPrivateKey":true,"hasCertificate":true,"alias":"publicauaforstagingservices"}}
{"timestamp":"2025-07-17T23:23:33.240Z","level":"log","message":"KEYS_LOADED_SUCCESSFULLY","context":"AuditLogger","correlationId":"04497fd0-acf9-41bc-b383-d78eafbd75ba","payload":{"method":"P12"}}
{"timestamp":"2025-07-17T23:23:33.240Z","level":"log","message":"PROVIDER_INITIALIZATION_SUCCESS","context":"AuditLogger","correlationId":"04497fd0-acf9-41bc-b383-d78eafbd75ba","payload":{"loadedKeys":true}}
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mNestFactory created application instance.[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mRunning in Development mode.[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mHelmet security middleware configured.[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mBodyParser middleware configured.[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mCORS middleware configured.[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mGlobal ValidationPipe configured.[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mServing static files from: /Users/aaryanguglani/Desktop/projcects/aadhaar/public[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mAttempting to listen on 0.0.0.0:3002[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[CrossDeviceGateway] [39m[32mðŸ”Œ Cross-Device WebSocket Gateway initialized[39m
{"timestamp":"2025-07-17T23:23:33.350Z","level":"log","message":"CROSS_DEVICE_WEBSOCKET_INITIALIZED","context":"AuditLogger","correlationId":"system","payload":{"timestamp":"2025-07-17T23:23:33.350Z"}}
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[WebSocketsController] [39m[32mCrossDeviceGateway subscribed to the "join_session" message[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[WebSocketsController] [39m[32mCrossDeviceGateway subscribed to the "get_session_status" message[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAppController {/}:[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/health, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/auth}:[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/qr, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/callback, POST} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/verify/:sessionId, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId/status, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId/complete, POST} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/create, POST} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/config/validate, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/connection, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/certificates, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/load, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/data/retrieve, POST} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCrossDeviceController {/auth/cross-device}:[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/initiate, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/authenticate/:sessionId, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/authenticate, POST} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/session/create, POST} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/session/:sessionId/status, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/sessions/active, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/health}:[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/health, GET} route[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mâœ…âœ…âœ… SERVER IS LISTENING! âœ…âœ…âœ…[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mðŸš€ Application is running on: http://127.0.0.1:3002[39m
[32m[Nest] 86652  - [39m07/18/2025, 4:53:33 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m--- Bootstrap successful ---[39m
{"timestamp":"2025-07-17T23:23:52.436Z","level":"log","message":"TEST_CERTIFICATES_REQUEST","context":"AuditLogger","correlationId":"75ad94e5-1a73-4c07-b2bb-4f1c754d19e2","payload":{}}
{"timestamp":"2025-07-17T23:23:52.437Z","level":"log","message":"CERTIFICATE_VALIDATION_RESULT","context":"AuditLogger","correlationId":"75ad94e5-1a73-4c07-b2bb-4f1c754d19e2","payload":{"valid":true,"details":{"uidai":{"path":"/Users/aaryanguglani/Desktop/projcects/aadhaar/certs/real_uidai_cert.cer","exists":true,"readable":true,"valid":true},"aua":{"key":{"path":"/Users/aaryanguglani/Desktop/projcects/aadhaar/certs/real_aua_private.pem","exists":true,"readable":true,"valid":true},"cert":{"path":"/Users/aaryanguglani/Desktop/projcects/aadhaar/certs/real_aua_cert.pem","exists":true,"readable":true,"valid":true}}}}}
{"timestamp":"2025-07-17T23:23:52.437Z","level":"log","message":"PERFORMANCE_METRIC","context":"AuditLogger","correlationId":"75ad94e5-1a73-4c07-b2bb-4f1c754d19e2","payload":{"method":"GET","url":"/auth/test/certificates","responseTime":"1ms"}}
{"timestamp":"2025-07-17T23:23:57.160Z","level":"log","message":"TEST_CONNECTION_REQUEST","context":"AuditLogger","correlationId":"a81754b5-1a92-46c1-a7fd-f1b42987a438","payload":{}}
{"timestamp":"2025-07-17T23:23:57.160Z","level":"log","message":"PERFORMANCE_METRIC","context":"AuditLogger","correlationId":"a81754b5-1a92-46c1-a7fd-f1b42987a438","payload":{"method":"GET","url":"/auth/test/connection","responseTime":"0ms"}}
{"timestamp":"2025-07-17T23:24:02.993Z","level":"warn","message":"CROSS_DEVICE_MISSING_UID","context":"AuditLogger","correlationId":"0bbc3b19-5008-47ca-b91b-fc14be9f24ee","payload":{"ip":"127.0.0.1","userAgent":"curl/8.7.1"}}
{"timestamp":"2025-07-17T23:24:02.993Z","level":"log","message":"PERFORMANCE_METRIC","context":"AuditLogger","correlationId":"eff8c803-4f5e-4a87-8078-3c3b01924026","payload":{"method":"GET","url":"/auth/cross-device/initiate","responseTime":"0ms"}}
{"timestamp":"2025-07-17T23:24:08.984Z","level":"log","message":"CROSS_DEVICE_SESSION_CREATED","context":"AuditLogger","correlationId":"aebb4ffd-436b-4526-b32f-38a9bd36cc85","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019","expiresAt":"2025-07-17T23:29:08.984Z","timeoutMs":300000}}
{"timestamp":"2025-07-17T23:24:08.985Z","level":"log","message":"CROSS_DEVICE_MOBILE_SESSION_CREATED","context":"AuditLogger","correlationId":"aebb4ffd-436b-4526-b32f-38a9bd36cc85","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019"}}
{"timestamp":"2025-07-17T23:24:08.985Z","level":"log","message":"CROSS_DEVICE_MOBILE_SESSION_API_CREATED","context":"AuditLogger","correlationId":"aebb4ffd-436b-4526-b32f-38a9bd36cc85","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019"}}
{"timestamp":"2025-07-17T23:24:08.985Z","level":"log","message":"PERFORMANCE_METRIC","context":"AuditLogger","correlationId":"e1e70ba9-82ce-4859-bdb6-5474974e93a2","payload":{"method":"POST","url":"/auth/cross-device/session/create","responseTime":"1ms"}}
{"timestamp":"2025-07-17T23:24:14.810Z","level":"log","message":"CROSS_DEVICE_AUTH_PAGE_VIEWED","context":"AuditLogger","correlationId":"d984c91d-74fb-4fc5-9914-226832a4ea06","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019","status":"pending"}}
{"timestamp":"2025-07-17T23:24:14.810Z","level":"log","message":"PERFORMANCE_METRIC","context":"AuditLogger","correlationId":"dcd15ba9-811e-4cc9-bab7-f00761f5ba32","payload":{"method":"GET","url":"/auth/cross-device/authenticate/sess_f70ede4e_md80oexk?uid=999999990019","responseTime":"0ms"}}
{"timestamp":"2025-07-17T23:24:20.113Z","level":"log","message":"CROSS_DEVICE_AUTH_PAGE_VIEWED","context":"AuditLogger","correlationId":"013804ec-af00-4894-ba78-a1792b69b4b8","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019","status":"pending"}}
{"timestamp":"2025-07-17T23:24:20.114Z","level":"log","message":"PERFORMANCE_METRIC","context":"AuditLogger","correlationId":"126fa4a3-9464-4788-a064-7d481100a8db","payload":{"method":"GET","url":"/auth/cross-device/authenticate/sess_f70ede4e_md80oexk?uid=999999990019","responseTime":"1ms"}}
{"timestamp":"2025-07-17T23:24:28.824Z","level":"log","message":"CROSS_DEVICE_AUTHENTICATE_REQUEST","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionId":"sess_f70ede4e_md80oexk","hasOtp":true,"deviceId":"test_device"}}
{"timestamp":"2025-07-17T23:24:28.824Z","level":"log","message":"CROSS_DEVICE_UIDAI_AUTH_COMPLETION","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionId":"sess_f70ede4e_md80oexk","deviceId":"test_device","hasOtp":true}}
{"timestamp":"2025-07-17T23:24:28.824Z","level":"log","message":"CROSS_DEVICE_AUTHENTICATOR_REGISTERED","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionId":"sess_f70ede4e_md80oexk","authenticatorDeviceId":"test_device","uid":"********0019"}}
{"timestamp":"2025-07-17T23:24:28.824Z","level":"log","message":"CROSS_DEVICE_AUTHENTICATION_STARTED","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019"}}
{"timestamp":"2025-07-17T23:24:28.824Z","level":"log","message":"CROSS_DEVICE_AUTH_STARTING_NOTIFICATION","context":"AuditLogger","correlationId":"system","payload":{"sessionId":"sess_f70ede4e_md80oexk"}}
{"timestamp":"2025-07-17T23:24:28.824Z","level":"log","message":"CROSS_DEVICE_ATTEMPTING_UIDAI_VERIFICATION","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019","hasUidaiOtpTxn":false}}
{"timestamp":"2025-07-17T23:24:28.824Z","level":"log","message":"CONSTRUCTED_AUTH_API_URL","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"authApiUrl":"https://developer.uidai.gov.in/authserver/2.5/public/9/9/MG_g7jJVYUIW7cLYXY5yaqKD6D1TuhjTJTDPHcb0SudOhVpvpnsEw_A"}}
{"timestamp":"2025-07-17T23:24:28.825Z","level":"log","message":"GENERATED_SESSION_KEY","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionKey":"dc1f9cb237581b62faecc2e2d68f0689353f7803fc99a055102134a2588813d2"}}
{"timestamp":"2025-07-17T23:24:28.825Z","level":"log","message":"GENERATED_PID_BLOCK_PLAINTEXT","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"pidBlockPlaintext":"<Pid ts=\"2025-07-17T23:24:28\" ver=\"1.6\">\n  <Pv otp=\"123456\"/>\n</Pid>"}}
{"timestamp":"2025-07-17T23:24:28.825Z","level":"log","message":"ENCRYPTED_PID_BLOCK","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"encryptedPidBase64":"PRxRHSsU/mEoTS5y4sUuMvE2P7G0UB0uC9ryERelfoOqzKg2rhz4tf55QaLm0qDi/Y9a9CuxwIRdaI3AoPyJSnipb8jYJxDxUfvrWhecJ6qL6GvHAIunEPjlWHWPEY64"}}
{"timestamp":"2025-07-17T23:24:28.825Z","level":"log","message":"CALCULATED_AND_ENCRYPTED_HMAC","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"hmac":"axF3+OUDX3TUVmjVpeldwZtzzZ4Z/fnkcRNjuM6skyiIHcwX4eRfJNTrirEBVqxtaXu1p2RgHpLaNbg3q0xrQQ=="}}
{"timestamp":"2025-07-17T23:24:28.826Z","level":"log","message":"ENCRYPTED_SESSION_KEY","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"ci":"Sep 16 0","skey":"fznzidijK7pe92zTOnRvio++ZTdPi3ucrbVAs66y/GHdtPVnRTufL1FFUlr0KB0w/2PdCfHeD7o55QcQAWeSUkauYJXHQTpTgPbkpUv2rKGi3+wiBX10oqRxVziZTbEyunX9qP7jNFbYsOKUEkEAn3vhk5BNteoEwOM4hk0MhbzwdYE5ZjZOyMzkhGMw+d/6MJgLD3BkskJ1M+TejYeTxub3qzjpceFPldcRT8y1lIxd3x8xBX1vnLF9ZQFJSaSf0KL93nYB7n7V7BDBn1cGNsufyJ8AHZYBUZvp0QBhInRzCjnK1k745oyd/oSqyTS4tbEeHWHVdfRACw79cFpLYg=="}}
{"timestamp":"2025-07-17T23:24:28.826Z","level":"log","message":"CERTIFICATE_PATHS","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"auaKeyPath":"/Users/aaryanguglani/Desktop/projcects/aadhaar/certs/real_aua_private.pem","auaCertPath":"/Users/aaryanguglani/Desktop/projcects/aadhaar/certs/real_aua_cert.pem","auaKeyExists":true,"auaCertExists":true}}
{"timestamp":"2025-07-17T23:24:28.833Z","level":"log","message":"SIGNED_AUTH_XML","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"signedAuthXml":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<Auth uid=\"999999990019\" tid=\"public\" ac=\"public\" sa=\"public\" ver=\"1.6\" txn=\"sess_f70ede4e_md80oexk\" lk=\"MG_g7jJVYUIW7cLYXY5yaqKD6D1TuhjTJTDPHcb0SudOhVpvpnsEw_A\" ts=\"2025-07-17T23:24:28\" Id=\"_0\">\n  <Uses otp=\"Y\" pi=\"n\" pa=\"n\" pfa=\"n\" bio=\"n\" bt=\"\" pin=\"n\"/>\n  <Skey ci=\"Sep 16 0\">fznzidijK7pe92zTOnRvio++ZTdPi3ucrbVAs66y/GHdtPVnRTufL1FFUlr0KB0w/2PdCfHeD7o55QcQAWeSUkauYJXHQTpTgPbkpUv2rKGi3+wiBX10oqRxVziZTbEyunX9qP7jNFbYsOKUEkEAn3vhk5BNteoEwOM4hk0MhbzwdYE5ZjZOyMzkhGMw+d/6MJgLD3BkskJ1M+TejYeTxub3qzjpceFPldcRT8y1lIxd3x8xBX1vnLF9ZQFJSaSf0KL93nYB7n7V7BDBn1cGNsufyJ8AHZYBUZvp0QBhInRzCjnK1k745oyd/oSqyTS4tbEeHWHVdfRACw79cFpLYg==</Skey>\n  <Data type=\"X\">PRxRHSsU/mEoTS5y4sUuMvE2P7G0UB0uC9ryERelfoOqzKg2rhz4tf55QaLm0qDi/Y9a9CuxwIRdaI3AoPyJSnipb8jYJxDxUfvrWhecJ6qL6GvHAIunEPjlWHWPEY64</Data>\n  <Hmac>axF3+OUDX3TUVmjVpeldwZtzzZ4Z/fnkcRNjuM6skyiIHcwX4eRfJNTrirEBVqxtaXu1p2RgHpLaNbg3q0xrQQ==</Hmac>\n<Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"><SignedInfo><CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/><SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\"/><Reference URI=\"#_0\"><Transforms><Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/></Transforms><DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/><DigestValue>V5GJnqclJMUNEfxd8pASss2/an9M0rEpSYUy8+gXG7o=</DigestValue></Reference></SignedInfo><SignatureValue>SoqY7Vz5slfcQfKkvNOMfPjT6gEzMNH5cgQgVTKEgNkWmTrgkiKO0JSOpppiwPkT/H3vLgTvkOu5bQQOuEslq8OHfRmSW+LDnN9vmOW9kV1MjLY4gnc6GV3l+BfcDTRtlEO7MZSTu89MmHjgbqkSbl7MuwVuOVcKSpVrlyQPEisLvCKnj+c1da+o2V+JlW8spDcQB1NVMK9S8yvI4WdDEiRZn+Czik5bPiK5H+zdroBy42ot3RwGAZWyXl28SClZTJgnEZp//vhq5PAYmt5hW5TPLLShy5XbsE5UQdA31lFibjhGI/NuWMT+G7wHNwaf+dWhTTayDM0S7OICx3dB/g==</SignatureValue></Signature></Auth>"}}
{"timestamp":"2025-07-17T23:24:28.833Z","level":"log","message":"SENDING_REQUEST_TO_UIDAI","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"apiUrl":"https://developer.uidai.gov.in/authserver/2.5/public/9/9/MG_g7jJVYUIW7cLYXY5yaqKD6D1TuhjTJTDPHcb0SudOhVpvpnsEw_A","requestXmlLength":1837,"requestXmlSample":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<Auth uid=\"999999990019\" tid=\"public\" ac=\"pu..."}}
{"timestamp":"2025-07-17T23:24:29.048Z","level":"log","message":"UIDAI_RAW_RESPONSE","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"statusCode":200,"statusText":"","headers":{"server":"nginx/1.23.2","date":"Thu, 17 Jul 2025 23:24:29 GMT","content-type":"application/xml;charset=UTF-8","content-length":"1344","connection":"keep-alive","strict-transport-security":"max-age=16070400; includeSubDomains"},"responseLength":1344,"responsePreview":"<?xml version=\"1.0\" encoding=\"UTF-8\"?><AuthRes code=\"1e9d073c23d346fc986d435c0994f076\" err=\"540\" info=\"02{20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,00000000000000000000000000000..."}}
{"timestamp":"2025-07-17T23:24:29.049Z","level":"log","message":"UIDAI_RESPONSE_PARSED","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"parsedResponse":{"AuthRes":{"$":{"code":"1e9d073c23d346fc986d435c0994f076","err":"540","info":"02{20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,0000000000000000000000000000000000000000000000000000000000000000,0100000000000000,NA,NA,NA,NA,NA,NA,1.6,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,public,NA,NA,NA,NA,NA,NA}","ret":"n","ts":"2025-07-18T04:54:29.039+05:30","txn":"sess_f70ede4e_md80oexk"},"Signature":{"$":{"xmlns":"http://www.w3.org/2000/09/xmldsig#"},"SignedInfo":{"CanonicalizationMethod":{"$":{"Algorithm":"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"}},"SignatureMethod":{"$":{"Algorithm":"http://www.w3.org/2000/09/xmldsig#rsa-sha1"}},"Reference":{"$":{"URI":""},"Transforms":{"Transform":{"$":{"Algorithm":"http://www.w3.org/2000/09/xmldsig#enveloped-signature"}}},"DigestMethod":{"$":{"Algorithm":"http://www.w3.org/2001/04/xmlenc#sha256"}},"DigestValue":"5EidVc/PZRkoorWOg9tTUFxvcDq1OWXJoit9z1ojK7Q="}},"SignatureValue":"ZD+HbqwvuKyoKwp8okD3Iqxy9zzcem1VM+PR8LB7J1dv72PvjPVJyzRYaCDc9JCsdvnuQe7QaeZz\r\nPEGUxqHTiX0dLahODXDHpRCsXSH7hbfe4W/sc2mPRMXk1st1CGCFuDsZyfODgcF0DBQV95argB2s\r\ngDLKRu0djHESM59HENvcN+KDb8KsJMn1LTS/u/cbnpeN2nR9ZJmllUUaLSnqAaPGCVgdUbYLJExw\r\nfNlb4W8x4u70YWsN7oxtRwTS/sph2nnFFJ8Ap49sGX7JmhliWWOAoO7Pwi1+dALplePsi+RcATkz\r\nVfKHNkGGCpclNCjpbs8oVk3C1BmMz4+W0rnNyA=="}}}}}
[31m[Nest] 86652  - [39m07/18/2025, 4:54:29 AM [31m  ERROR[39m [38;5;3m[CryptoUtils] [39m[31mError verifying XML signature: KeyInfo or publicCert or privateKey is required to validate signature[39m
{"timestamp":"2025-07-17T23:24:29.053Z","level":"log","message":"SIGNATURE_VERIFICATION_RESULT","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"isValid":false}}
[33m[Nest] 86652  - [39m07/18/2025, 4:54:29 AM [33m   WARN[39m [38;5;3m[AuditLogger] [39m[33mUIDAI_RAW_RESPONSE_BEFORE_VERIFICATION_FAILURE
<?xml version="1.0" encoding="UTF-8"?><AuthRes code="1e9d073c23d346fc986d435c0994f076" err="540" info="02{20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,0000000000000000000000000000000000000000000000000000000000000000,0100000000000000,NA,NA,NA,NA,NA,NA,1.6,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,public,NA,NA,NA,NA,NA,NA}" ret="n" ts="2025-07-18T04:54:29.039+05:30" txn="sess_f70ede4e_md80oexk"><Signature xmlns="http://www.w3.org/2000/09/xmldsig#"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315"/><SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/><Reference URI=""><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/></Transforms><DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256"/><DigestValue>5EidVc/PZRkoorWOg9tTUFxvcDq1OWXJoit9z1ojK7Q=</DigestValue></Reference></SignedInfo><SignatureValue>ZD+HbqwvuKyoKwp8okD3Iqxy9zzcem1VM+PR8LB7J1dv72PvjPVJyzRYaCDc9JCsdvnuQe7QaeZz&#13;
PEGUxqHTiX0dLahODXDHpRCsXSH7hbfe4W/sc2mPRMXk1st1CGCFuDsZyfODgcF0DBQV95argB2s&#13;
gDLKRu0djHESM59HENvcN+KDb8KsJMn1LTS/u/cbnpeN2nR9ZJmllUUaLSnqAaPGCVgdUbYLJExw&#13;
fNlb4W8x4u70YWsN7oxtRwTS/sph2nnFFJ8Ap49sGX7JmhliWWOAoO7Pwi1+dALplePsi+RcATkz&#13;
VfKHNkGGCpclNCjpbs8oVk3C1BmMz4+W0rnNyA==</SignatureValue></Signature></AuthRes>[39m
{"timestamp":"2025-07-17T23:24:29.053Z","level":"error","message":"SIGNATURE_VERIFICATION_ERROR","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"error":"Response signature verification failed."}}
{"timestamp":"2025-07-17T23:24:29.053Z","level":"error","message":"XML_PARSE_ERROR","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"error":"Response signature verification failed.","responseData":"<?xml version=\"1.0\" encoding=\"UTF-8\"?><AuthRes code=\"1e9d073c23d346fc986d435c0994f076\" err=\"540\" info=\"02{20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,0000000000000000000000000000000000000000000000000000000000000000,0100000000000000,NA,NA,NA,NA,NA,NA,1.6,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,public,NA,NA,NA,NA,NA,NA}\" ret=\"n\" ts=\"2025-07-18T04:54:29.039+05:30\" txn=\"sess_f70ede4e_md80oexk\"><Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"><SignedInfo><CanonicalizationMeth"}}
{"timestamp":"2025-07-17T23:24:29.055Z","level":"error","message":"ERROR_SENDING_REQUEST_TO_UIDAI","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"error":"Response signature verification failed.","httpStatus":500,"trace":"Error: Response signature verification failed.\n    at AadhaarProvider.sendUidaiRequest (/Users/aaryanguglani/Desktop/projcects/aadhaar/src/modules/auth/providers/aadhaar.provider.ts:263:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AadhaarProvider.verifyAuth (/Users/aaryanguglani/Desktop/projcects/aadhaar/src/modules/auth/providers/aadhaar.provider.ts:388:31)\n    at async CrossDeviceUidaiProvider.completeAuth (/Users/aaryanguglani/Desktop/projcects/aadhaar/src/modules/auth/providers/cross-device-uidai.provider.ts:225:29)\n    at async CrossDeviceController.authenticate (/Users/aaryanguglani/Desktop/projcects/aadhaar/src/modules/auth/controllers/cross-device.controller.ts:276:22)","isNetworkError":false,"config":"No config"}}
{"timestamp":"2025-07-17T23:24:29.055Z","level":"error","message":"ERROR_DURING_AADHAAR_AUTH_VERIFICATION","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"error":"UIDAI API request failed: 500 - Response signature verification failed.","isHttpException":true}}
{"timestamp":"2025-07-17T23:24:29.055Z","level":"error","message":"CROSS_DEVICE_UIDAI_VERIFICATION_FAILED","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019","error":"UIDAI API request failed: 500 - Response signature verification failed."}}
{"timestamp":"2025-07-17T23:24:29.055Z","level":"log","message":"CROSS_DEVICE_SESSION_COMPLETED","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionId":"sess_f70ede4e_md80oexk","success":false,"uid":"********0019"}}
{"timestamp":"2025-07-17T23:24:29.055Z","level":"log","message":"CROSS_DEVICE_AUTH_COMPLETION_NOTIFICATION","context":"AuditLogger","correlationId":"system","payload":{"sessionId":"sess_f70ede4e_md80oexk","success":false,"hasError":true}}
{"timestamp":"2025-07-17T23:24:29.055Z","level":"log","message":"CROSS_DEVICE_AUTH_COMPLETED","context":"AuditLogger","correlationId":"3616543a-bc33-4c73-a27b-30f334eb20d5","payload":{"sessionId":"sess_f70ede4e_md80oexk","success":false,"hasUidaiResponse":false}}
{"timestamp":"2025-07-17T23:24:29.055Z","level":"log","message":"PERFORMANCE_METRIC","context":"AuditLogger","correlationId":"b19e8cba-fcdd-4cbf-9309-8a1c050804a2","payload":{"method":"POST","url":"/auth/cross-device/authenticate","responseTime":"231ms"}}
{"timestamp":"2025-07-17T23:24:49.904Z","level":"log","message":"AUTH_QR_INITIATED","context":"AuditLogger","correlationId":"441cdfa5-e470-4589-af66-5392bb0795af","payload":{}}
{"timestamp":"2025-07-17T23:24:49.904Z","level":"error","message":"AUTH_QR_FAILED","context":"AuditLogger","correlationId":"441cdfa5-e470-4589-af66-5392bb0795af","payload":{"error":"redirectUri and uid query parameters are required","stack":"HttpException: redirectUri and uid query parameters are required\n    at AuthController.getQrCode (/Users/aaryanguglani/Desktop/projcects/aadhaar/src/modules/auth/auth.controller.ts:77:15)\n    at /Users/aaryanguglani/Desktop/projcects/aadhaar/node_modules/@nestjs/core/router/router-execution-context.js:38:29"}}
{"timestamp":"2025-07-17T23:24:49.904Z","level":"error","message":"HTTP Exception: GET /auth/qr","context":"AuditLogger","correlationId":"441cdfa5-e470-4589-af66-5392bb0795af","payload":{"path":"/auth/qr","method":"GET","statusCode":400,"error":"redirectUri and uid query parameters are required","stack":"HttpException: redirectUri and uid query parameters are required\n    at AuthController.getQrCode (/Users/aaryanguglani/Desktop/projcects/aadhaar/src/modules/auth/auth.controller.ts:77:15)\n    at /Users/aaryanguglani/Desktop/projcects/aadhaar/node_modules/@nestjs/core/router/router-execution-context.js:38:29"}}
[95m[Nest] 86652  - [39m07/18/2025, 4:56:33 AM [95m  DEBUG[39m [38;5;3m[AppController] [39m[95mHealth check requested[39m
{"timestamp":"2025-07-17T23:26:33.803Z","level":"log","message":"PERFORMANCE_METRIC","context":"AuditLogger","correlationId":"d2e7c895-f489-45fc-8bb3-0616e7f079bd","payload":{"method":"GET","url":"/health","responseTime":"0ms"}}
{"timestamp":"2025-07-17T23:29:33.231Z","level":"log","message":"CROSS_DEVICE_SESSION_DELETED","context":"AuditLogger","correlationId":"system-cleanup","payload":{"sessionId":"sess_f70ede4e_md80oexk","uid":"********0019"}}
{"timestamp":"2025-07-17T23:29:33.232Z","level":"log","message":"CROSS_DEVICE_EXPIRED_SESSIONS_CLEANED","context":"AuditLogger","correlationId":"system-cleanup","payload":{"expiredCount":1,"activeCount":0}}
[2J[3J[H[[90m4:59:33 AM[0m] File change detected. Starting incremental compilation...

[96msrc/modules/auth/providers/aadhaar.provider.ts[0m:[93m338[0m:[93m38[0m - [91merror[0m[90m TS2339: [0mProperty 'signXmlWithPemData' does not exist on type 'typeof import("/Users/aaryanguglani/Desktop/projcects/aadhaar/src/modules/auth/utils/crypto-utils")'.

[7m338[0m           signedOtpXml = CryptoUtils.signXmlWithPemData(otpXml, privateKey, certificate);
[7m   [0m [91m                                     ~~~~~~~~~~~~~~~~~~[0m

[[90m4:59:34 AM[0m] Found 1 error. Watching for file changes.

[2J[3J[H[[90m4:59:51 AM[0m] File change detected. Starting incremental compilation...

[96msrc/modules/auth/utils/crypto-utils.ts[0m:[93m408[0m:[93m9[0m - [91merror[0m[90m TS2339: [0mProperty 'keyInfoProvider' does not exist on type 'SignedXml'.

[7m408[0m     sig.keyInfoProvider = {
[7m   [0m [91m        ~~~~~~~~~~~~~~~[0m

[[90m4:59:51 AM[0m] Found 1 error. Watching for file changes.

[2J[3J[H[[90m5:00:31 AM[0m] File change detected. Starting incremental compilation...

[[90m5:00:31 AM[0m] Found 0 errors. Watching for file changes.

[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m--- Starting Application Bootstrap ---[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCommonModule dependencies initialized[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m
{"timestamp":"2025-07-17T23:30:32.269Z","level":"log","message":"PROVIDER_INITIALIZATION_START","context":"AuditLogger","correlationId":"5bbaaff6-f55d-49ba-991f-9d98f473c6b8","payload":{}}
{"timestamp":"2025-07-17T23:30:32.269Z","level":"log","message":"PROVIDER_INITIALIZATION_CONFIG","context":"AuditLogger","correlationId":"5bbaaff6-f55d-49ba-991f-9d98f473c6b8","payload":{"isDevelopment":true,"auaCode":"public","uidaiBaseUrl":"https://developer.uidai.gov.in","licenseKey":"MG_g7jJVYU..."}}
{"timestamp":"2025-07-17T23:30:32.269Z","level":"log","message":"LOADING_KEYS_START","context":"AuditLogger","correlationId":"5bbaaff6-f55d-49ba-991f-9d98f473c6b8","payload":{"hasP12Path":true,"hasPemPaths":true}}
{"timestamp":"2025-07-17T23:30:32.269Z","level":"log","message":"LOADING_P12_CERTIFICATE","context":"AuditLogger","correlationId":"5bbaaff6-f55d-49ba-991f-9d98f473c6b8","payload":{"p12Path":"/Users/aaryanguglani/Desktop/projcects/aadhaar/certs/New_Public_AUA_for_Staging_Services_RootSigned_2428.p12"}}
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[CryptoUtils] [39m[32mSuccessfully extracted private key and certificate from P12 file: /Users/aaryanguglani/Desktop/projcects/aadhaar/certs/New_Public_AUA_for_Staging_Services_RootSigned_2428.p12[39m
{"timestamp":"2025-07-17T23:30:32.305Z","level":"log","message":"P12_CERTIFICATE_LOADED_SUCCESSFULLY","context":"AuditLogger","correlationId":"5bbaaff6-f55d-49ba-991f-9d98f473c6b8","payload":{"hasPrivateKey":true,"hasCertificate":true,"alias":"publicauaforstagingservices"}}
{"timestamp":"2025-07-17T23:30:32.305Z","level":"log","message":"KEYS_LOADED_SUCCESSFULLY","context":"AuditLogger","correlationId":"5bbaaff6-f55d-49ba-991f-9d98f473c6b8","payload":{"method":"P12"}}
{"timestamp":"2025-07-17T23:30:32.305Z","level":"log","message":"PROVIDER_INITIALIZATION_SUCCESS","context":"AuditLogger","correlationId":"5bbaaff6-f55d-49ba-991f-9d98f473c6b8","payload":{"loadedKeys":true}}
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mNestFactory created application instance.[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mRunning in Development mode.[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mHelmet security middleware configured.[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mBodyParser middleware configured.[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mCORS middleware configured.[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mGlobal ValidationPipe configured.[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mServing static files from: /Users/aaryanguglani/Desktop/projcects/aadhaar/public[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mAttempting to listen on 0.0.0.0:3002[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[CrossDeviceGateway] [39m[32mðŸ”Œ Cross-Device WebSocket Gateway initialized[39m
{"timestamp":"2025-07-17T23:30:32.402Z","level":"log","message":"CROSS_DEVICE_WEBSOCKET_INITIALIZED","context":"AuditLogger","correlationId":"system","payload":{"timestamp":"2025-07-17T23:30:32.402Z"}}
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[WebSocketsController] [39m[32mCrossDeviceGateway subscribed to the "join_session" message[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[WebSocketsController] [39m[32mCrossDeviceGateway subscribed to the "get_session_status" message[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAppController {/}:[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/health, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/auth}:[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/qr, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/callback, POST} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/verify/:sessionId, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId/status, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId/complete, POST} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/create, POST} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/config/validate, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/connection, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/certificates, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/load, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/data/retrieve, POST} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCrossDeviceController {/auth/cross-device}:[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/initiate, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/authenticate/:sessionId, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/authenticate, POST} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/session/create, POST} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/session/:sessionId/status, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/sessions/active, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/health}:[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/health, GET} route[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mâœ…âœ…âœ… SERVER IS LISTENING! âœ…âœ…âœ…[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mðŸš€ Application is running on: http://127.0.0.1:3002[39m
[32m[Nest] 91299  - [39m07/18/2025, 5:00:32 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m--- Bootstrap successful ---[39m
[2J[3J[H[[90m5:00:45 AM[0m] File change detected. Starting incremental compilation...

[[90m5:00:45 AM[0m] Found 0 errors. Watching for file changes.

[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m--- Starting Application Bootstrap ---[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCommonModule dependencies initialized[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m
{"timestamp":"2025-07-17T23:30:45.486Z","level":"log","message":"PROVIDER_INITIALIZATION_START","context":"AuditLogger","correlationId":"a25218bc-73e0-4a7d-9b12-e2e418b45e64","payload":{}}
{"timestamp":"2025-07-17T23:30:45.486Z","level":"log","message":"PROVIDER_INITIALIZATION_CONFIG","context":"AuditLogger","correlationId":"a25218bc-73e0-4a7d-9b12-e2e418b45e64","payload":{"isDevelopment":true,"auaCode":"public","uidaiBaseUrl":"https://developer.uidai.gov.in","licenseKey":"MG_g7jJVYU..."}}
{"timestamp":"2025-07-17T23:30:45.486Z","level":"log","message":"LOADING_KEYS_START","context":"AuditLogger","correlationId":"a25218bc-73e0-4a7d-9b12-e2e418b45e64","payload":{"hasP12Path":true,"hasPemPaths":true}}
{"timestamp":"2025-07-17T23:30:45.486Z","level":"log","message":"LOADING_P12_CERTIFICATE","context":"AuditLogger","correlationId":"a25218bc-73e0-4a7d-9b12-e2e418b45e64","payload":{"p12Path":"/Users/aaryanguglani/Desktop/projcects/aadhaar/certs/New_Public_AUA_for_Staging_Services_RootSigned_2428.p12"}}
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[CryptoUtils] [39m[32mSuccessfully extracted private key and certificate from P12 file: /Users/aaryanguglani/Desktop/projcects/aadhaar/certs/New_Public_AUA_for_Staging_Services_RootSigned_2428.p12[39m
{"timestamp":"2025-07-17T23:30:45.525Z","level":"log","message":"P12_CERTIFICATE_LOADED_SUCCESSFULLY","context":"AuditLogger","correlationId":"a25218bc-73e0-4a7d-9b12-e2e418b45e64","payload":{"hasPrivateKey":true,"hasCertificate":true,"alias":"publicauaforstagingservices"}}
{"timestamp":"2025-07-17T23:30:45.525Z","level":"log","message":"KEYS_LOADED_SUCCESSFULLY","context":"AuditLogger","correlationId":"a25218bc-73e0-4a7d-9b12-e2e418b45e64","payload":{"method":"P12"}}
{"timestamp":"2025-07-17T23:30:45.525Z","level":"log","message":"PROVIDER_INITIALIZATION_SUCCESS","context":"AuditLogger","correlationId":"a25218bc-73e0-4a7d-9b12-e2e418b45e64","payload":{"loadedKeys":true}}
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mNestFactory created application instance.[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mRunning in Development mode.[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mHelmet security middleware configured.[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mBodyParser middleware configured.[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mCORS middleware configured.[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mGlobal ValidationPipe configured.[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mServing static files from: /Users/aaryanguglani/Desktop/projcects/aadhaar/public[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mAttempting to listen on 0.0.0.0:3002[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[CrossDeviceGateway] [39m[32mðŸ”Œ Cross-Device WebSocket Gateway initialized[39m
{"timestamp":"2025-07-17T23:30:45.629Z","level":"log","message":"CROSS_DEVICE_WEBSOCKET_INITIALIZED","context":"AuditLogger","correlationId":"system","payload":{"timestamp":"2025-07-17T23:30:45.629Z"}}
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[WebSocketsController] [39m[32mCrossDeviceGateway subscribed to the "join_session" message[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[WebSocketsController] [39m[32mCrossDeviceGateway subscribed to the "get_session_status" message[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAppController {/}:[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/health, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/auth}:[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/qr, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/callback, POST} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/verify/:sessionId, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId/status, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/:sessionId/complete, POST} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/session/create, POST} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/config/validate, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/connection, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/certificates, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/test/load, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/data/retrieve, POST} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCrossDeviceController {/auth/cross-device}:[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/initiate, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/authenticate/:sessionId, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/authenticate, POST} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/session/create, POST} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/session/:sessionId/status, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/cross-device/sessions/active, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/health}:[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/health, GET} route[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mâœ…âœ…âœ… SERVER IS LISTENING! âœ…âœ…âœ…[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32mðŸš€ Application is running on: http://127.0.0.1:3002[39m
[32m[Nest] 91318  - [39m07/18/2025, 5:00:45 AM [32m    LOG[39m [38;5;3m[Bootstrap] [39m[32m--- Bootstrap successful ---[39m
